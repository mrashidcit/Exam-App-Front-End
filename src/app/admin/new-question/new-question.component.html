
<div class="col-sm-12">

  <div [hidden]="!showMsg" class="col-sm-offset-1 cols-sm-8 alert alert-success">
      Successfully Saved!

  </div>

  <h3>Add New Question</h3>

  <div *ngIf="!allow_new_question" >

    <div class="row">
      <app-board-menu class="col-sm-3"
        (sendBoard)="getBoardFromMenu($event)"></app-board-menu>

      <app-year-menu class="col-sm-3"
        (sendYear)="getYearFromMenu($event)"></app-year-menu>

    </div>

    <div class="row">
      <app-grade-menu class="col-sm-3"
        (sendGrade)="getGrade($event)" ></app-grade-menu>
      <app-subject-menu [grade]="currentGrade"
        (sendSubject)="getSubjectfromSubjectMenu($event)"
                        class="col-sm-3">
      </app-subject-menu>

    </div>


    <button  (click)="allowNewQestionToggle()">ok</button>



  </div>

<div *ngIf="allow_new_question">



  <div class="form-group row" *ngIf="subjects">
    <label class="col-sm-2" for="correct_option">Subject: </label>

    <div class="col-sm-6">
      <select [(ngModel)]="subject_id" name="subject" id="subject" >
        <option *ngFor="let subject of subjects" value="{{subject.id}}">{{subject.name}}</option>

      </select>
      <h4>Subject_id: {{subject_id}}</h4>

    </div>

  </div>



  <div class="row">
    <div class=" col-sm-3">
      <label >Grade: {{ currentGrade?.name}}</label>
    </div>
    <div class="col-sm-3">
      <label >Subject: {{ currentSubject?.name}}</label>
    </div>
  </div>

  <div  class="form-group row">

    <form (ngSubmit)="onSubmit()" class="form-horizontal" name="questionForm"
          #questionForm="ngForm" >
      <div class="form-group">
        <label class="control-label col-sm-2" for="quest">Question:</label>
        <div class="col-sm-6">
      <textarea #myQuestion autofocus class="form-control question"  name="quest" [(ngModel)]="question.question"
                id="quest" cols="60" rows="3" required autofocus  ></textarea>

        </div>

      </div>

      <div class="form-group">
        <label class="control-label col-sm-2" for="a">A: </label>
        <div class="col-sm-6">
          <input class="form-control" [(ngModel)]="question.a" type="text"
                 name="a" id="a" required />

        </div>

      </div>

      <div class="form-group">
        <label class="control-label col-sm-2" for="b">B: </label>
        <div class="col-sm-6">
          <input class="form-control" [(ngModel)]="question.b" type="text"
                 name="b" id="b" required />
        </div>

      </div>

      <div class="form-group">
        <label class="control-label col-sm-2" for="c">C: </label>
        <div class="col-sm-6">
          <input class="form-control" [(ngModel)]="question.c" type="text" name="c" id="c" required />
        </div>

      </div>

      <div class="form-group">
        <label class="control-label col-sm-2" for="d">D: </label>
        <div class="col-sm-6">
          <input class="form-control" [(ngModel)]="question.d" type="text" name="d" id="d" required />
        </div>

      </div>

      <div class="form-group">
        <label class="col-sm-2" for="correct_option">Correct Answer: </label>

        <div class="col-sm-6">
          <select [(ngModel)]="question.correct_option"  name="correct_option" id="correct_option" required>
            <option value=""><-Select-></option>
            <option value="a">A</option>
            <option value="b">B</option>
            <option value="c">C</option>
            <option value="d">D</option>

          </select>

        </div>

      </div>

      <div class="form-group">
        <div class="col-sm-offset-2 col-sm-6">
          <button type="submit"  class="btn btn-default"
                  [disabled]="!questionForm.form.valid">Save</button>

          <button  class="btn btn-default"
                  (click)="allowNewQestionToggle(); ">Cancel</button>


        </div>

      </div>

    </form>

  </div>





</div>
</div>
